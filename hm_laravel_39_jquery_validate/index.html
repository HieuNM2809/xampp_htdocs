<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <title>Demo for jQuery validate plugin</title>
    <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.2.1.min.js"></script>
    <script src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.9/jquery.validate.min.js"
    type="text/javascript"></script>
    <style>
        div.errorCustom {
            color: red;
        }
    </style>
</head>

<body>
    <div id="main">
        <form id="demoForm">
            <p>
                <label>Username</label>
                <input name="user" type="text" />
            </p>
            <p>
                <label>Password</label>
                <input id="password" type="password" name="password" />
            </p>
            <p>
                <label>Re-Password</label>
                <input id="re-password" type="password" name="re-password" />
            </p>
            <p>
                <input type="submit" value="Register" id="register" />
            </p>
        </form>
    </div>
    <script>
        var optionRule = {
            "user": {
                required: true,
                maxlength: 15
            },
            "password": {
                required: true,
                minlength: 8,
                validatePassword: true,
            },
            "re-password": {
                equalTo: "#password",
                minlength: 8
            }
        };
        var optionMessage = {
            "user": {
                required: "Bắt buộc nhập username",
                maxlength: "Hãy nhập tối đa 15 ký tự"
            },
            "password": {
                required: "Bắt buộc nhập password",
                minlength: "Hãy nhập ít nhất 8 ký tự"
            },
            "re-password": {
                equalTo: "Hai password phải giống nhau",
                minlength: "Hãy nhập ít nhất 8 ký tự"
            }
        };
        $("#demoForm").validate({
            // onfocusout: false,
            // onkeyup: false,
            // onclick: false,
            rules: optionRule,
            messages: optionMessage,
            errorElement: 'div',
            errorClass: 'errorCustom',
        });


        // Thêm 1 event mới
        $.validator.addMethod("validatePassword", function (value, element) {
            return this.optional(element) || /^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,16}$/i.test(value);
        }, "Hãy nhập password từ 8 đến 16 ký tự bao gồm chữ hoa, chữ thường và ít nhất một chữ số");
    </script>
</body>

</html>