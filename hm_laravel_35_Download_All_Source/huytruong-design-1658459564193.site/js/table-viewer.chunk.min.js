"use strict";(("undefined"!=typeof self?self:this).webpackJsonp__wix_communities_blog_ooi=("undefined"!=typeof self?self:this).webpackJsonp__wix_communities_blog_ooi||[]).push([[6051],{40110:function(e,t,n){n.r(t),n.d(t,{default:function(){return W}});var o=n(20011),i=n(23788),r=n(27762),l=n.n(r),s=n(95530),a=n(40841),c=n.n(a),u=(n(31047),n(16113)),d=n(17607),f=n(50417),g=(n(87308),function(e){return l().createElement("svg",(0,o.Z)({xmlns:"http://www.w3.org/2000/svg",width:"9px",height:"13px",viewBox:"0 0 9 13"},e),l().createElement("g",{id:"Symbols",stroke:"none"},l().createElement("g",{id:"drag&drop/row/unselected",transform:"translate(-9.000000, -15.000000)",fill:"currentColor"},l().createElement("g",{transform:"translate(14.000000, 21.500000) rotate(-270.000000) translate(-14.000000, -21.500000) translate(-7.000000, 8.000000)",id:"drag&drop/column"},l().createElement("g",{id:"Group-5",transform:"translate(15.000000, 10.000000)"},l().createElement("path",{d:"M2,4.8 C2.62132034,4.8 3.13235254,5.26813868 3.19380454,5.87654553 L3.2,6 C3.2,6.62132034 2.73186132,7.13235254 2.12345447,7.19380454 L2,7.2 C1.3372583,7.2 0.8,6.66736221 0.8,6 C0.8,5.37867966 1.26813868,4.86764746 1.87654553,4.80619546 L2,4.8 Z M6,4.8 C6.62132034,4.8 7.13235254,5.26813868 7.19380454,5.87654553 L7.2,6 C7.2,6.62132034 6.73186132,7.13235254 6.12345447,7.19380454 L6,7.2 C5.3372583,7.2 4.8,6.66736221 4.8,6 C4.8,5.37867966 5.26813868,4.86764746 5.87654553,4.80619546 L6,4.8 Z M10,4.8 C10.6213203,4.8 11.1323525,5.26813868 11.1938045,5.87654553 L11.2,6 C11.2,6.62132034 10.7318613,7.13235254 10.1234545,7.19380454 L10,7.2 C9.3372583,7.2 8.8,6.66736221 8.8,6 C8.8,5.37867966 9.26813868,4.86764746 9.87654553,4.80619546 L10,4.8 Z",id:"Color"}),l().createElement("path",{d:"M2,0.2 C2.62132034,0.2 3.13235254,0.66813868 3.19380454,1.27654553 L3.2,1.4 C3.2,2.02132034 2.73186132,2.53235254 2.12345447,2.59380454 L2,2.6 C1.3372583,2.6 0.8,2.06736221 0.8,1.4 C0.8,0.778679656 1.26813868,0.267647457 1.87654553,0.206195465 L2,0.2 Z M6,0.2 C6.62132034,0.2 7.13235254,0.66813868 7.19380454,1.27654553 L7.2,1.4 C7.2,2.02132034 6.73186132,2.53235254 6.12345447,2.59380454 L6,2.6 C5.3372583,2.6 4.8,2.06736221 4.8,1.4 C4.8,0.778679656 5.26813868,0.267647457 5.87654553,0.206195465 L6,0.2 Z M10,0.2 C10.6213203,0.2 11.1323525,0.66813868 11.1938045,1.27654553 L11.2,1.4 C11.2,2.02132034 10.7318613,2.53235254 10.1234545,2.59380454 L10,2.6 C9.3372583,2.6 8.8,2.06736221 8.8,1.4 C8.8,0.778679656 9.26813868,0.267647457 9.87654553,0.206195465 L10,0.2 Z",id:"Color"}))))))}),h="_1WRNo",p=function(e,t){return window.getComputedStyle(e,null).getPropertyValue(t)},v=function(e){if("border-box"===p(e,"box-sizing"))return 0;var t=p(e,"padding-left"),n=p(e,"padding-right");return parseInt(t)+parseInt(n)},C=function(e){return m(e.style.width)},m=function(e){return parseInt(e.substring(0,e.length-2))},R=function(e,t){for(var n=[],o=t-e>0,i=e;o?i<=t:i>=t;o?i++:i--)o?n.push(i):n.unshift(i);return n},w=function(e){var t=e.start,n=e.end,o=[];return t&&n&&R(t.i,n.i).map((function(e){return R(t.j,n.j).map((function(t){return o.push({i:e,j:t})}))})),o},b=function(e){var t=this;this.updateComponentData=function(e){t.componentData=e},this.getRowColumns=function(e){var n;return null===(n=t.getRow(e))||void 0===n?void 0:n.columns},this.getRows=function(){var e,n;return null===(e=t.componentData)||void 0===e||null===(n=e.config)||void 0===n?void 0:n.rows},this.getRow=function(e){var n;return null===(n=t.getRows())||void 0===n?void 0:n[e]},this.getRowNum=function(){return Object.entries(t.getRows()||{}).length},this.getColNum=function(){return Object.entries(t.getRowColumns(0)||{}).length},this.getCell=function(e,n){return t.getRow(e)&&t.getRowColumns(e)[n]},this.getCellContent=function(e,n){var o;return null===(o=t.getCell(e,n))||void 0===o?void 0:o.content},this.getCellStyle=function(e,n){var o;return null===(o=t.getCell(e,n))||void 0===o?void 0:o.style},this.getColsWidth=function(){return t.componentData.config.colsWidth},this.getRowsHeight=function(){return t.componentData.config.rowsHeight},this.getColWidth=function(e){return t.getColsWidth()[e]},this.getRowHeight=function(e){return t.getRowsHeight()[e]},this.getColsMinWidth=function(){return t.componentData.config.colsMinWidth},this.getColMinWidth=function(e){for(var n=u.a,o=t.getRowNum(),i=function(o){var i=t.getCellContent(o,e).getCurrentContent();i.getBlockMap().forEach((function(e){if("atomic"===e.type){var t=e.getEntityAt(0),o=t?i.getEntity(t):void 0,r=null==o?void 0:o.getType();"wix-draft-plugin-image"!==r&&"wix-draft-plugin-video"!==r||(n=300)}}))},r=0;r<o;r++)i(r);return n},this.getCellWidthAsPixel=function(e,n,o){void 0===o&&(o=[]);var i,r,l,s=t.getColsWidth().reduce((function(e,t){return e+t}),0);return t.getColsWidth().forEach((function(t,a){var c=e*(t/s);a===n?l=c:c<u.C&&(!r||r>c)&&(r=Math.max(o[a],c),i=a)})),r&&(l=Math.min(u.C,r)*(t.getColWidth(n)/t.getColWidth(i))),Math.max(l,o[n])},this.getCellWidthAsRatio=function(e,t,n){return parseInt(t*n/e,10)},this.getCellMergeData=function(e,n){var o;return null===(o=t.getCell(e,n))||void 0===o?void 0:o.merge},this.getParentCell=function(e){var n;return Object.entries(t.getRows()).forEach((function(i){var r=i[0],l=i[1];!n&&Object.entries(l.columns).forEach((function(i){var l=i[0],s=t.getCellMergeData(r,l);(null==s?void 0:s.key)===e&&(n=(0,o.Z)({},s,{row:r,col:l}))}))})),n},this.fixSelectedWithMergeCells=function(e){var n=w(e);return n.length>1&&n.forEach((function(n){var o=n.i,i=n.j,r=t.getCellMergeData(o,i)||{},l=r.parentCellKey,s=r.rowSpan,a=r.colSpan,c=l&&t.getParentCell(l),u=function(t,n,o,i){(o>1||i>1)&&[].concat(Array(o).fill(0)).forEach((function(o,r){[].concat(Array(i).fill(0)).forEach((function(o,i){var l=function(t,n){var o=e.start[t]<=e.end[t]?e.start:e.end,i=e.start[t]<=e.end[t]?e.end:e.start;o[t]>n&&(o[t]=n),i[t]<n&&(i[t]=n)};l("i",t+r),l("j",n+i)}))}))};if(c){var d=c.row,f=c.col,g=c.rowSpan,h=c.colSpan;u(parseInt(d),parseInt(f),g,h)}else u(o,i,s,a)})),e},this.getCellParentPosition=function(e,n){var o=t.getCellMergeData(e,n)||{},i=o.parentCellKey,r=o.rowSpan,l=o.colSpan;if(i){var s=t.getParentCell(i);return{i:s.row,j:s.col}}if(r>1||l>1)return{i:e,j:n}},this.getRowCellsParentPosition=function(e){var n;return Object.entries(t.getRowColumns(e)).forEach((function(o){var i=o[0];!n&&(n=t.getCellParentPosition(e,i))})),n},this.getColCellsParentPosition=function(e){var n;return Object.entries(t.getRows()).forEach((function(o){var i=o[0];!n&&(n=t.getCellParentPosition(i,e))})),n},this.getRowsSelection=function(e){return{start:{i:e.start,j:0},end:{i:e.end,j:t.getColNum()-1}}},this.getColsSelection=function(e){return{start:{i:0,j:e.start},end:{i:t.getRowNum()-1,j:e.end}}},this.getAllCellsSelection=function(){return{start:{i:0,j:0},end:{i:t.getRowNum()-1,j:t.getColNum()-1}}},this.isAllCellsSelected=function(e,n){return e&&n&&0===Math.min(e.i,n.i)&&0===Math.min(e.j,n.j)&&Math.max(e.i,n.i)===t.getRowNum()-1&&Math.max(e.j,n.j)===t.getColNum()-1},this.getSelectionStyle=function(e,n,o){var i,r,l=w(e),s=(null===(i=t.getCellStyle(l[0].i,l[0].j))||void 0===i?void 0:i.backgroundColor)||n,a=t.getConsistentCellBorderColor(e,l[0].i,l[0].j,o),c=(null===(r=t.getCellStyle(l[0].i,l[0].j))||void 0===r?void 0:r.verticalAlign)||"top",u=!1;return l.forEach((function(o){var i,r,l=o.i,d=o.j,f=(null===(i=t.getCellStyle(l,d))||void 0===i?void 0:i.backgroundColor)||n;s!==f&&(s=!1);var g=t.getConsistentCellBorderColor(e,l,d,a);a!==g&&(a=!1),t.isCellBorderActive(e,l,d)&&(u=!0);var h=(null===(r=t.getCellStyle(l,d))||void 0===r?void 0:r.verticalAlign)||"top";c!==h&&(c=!1)})),{selectionBGColor:s,selectionBorderColor:a,selectionVerticalAlign:c,selectionBorderIsActive:u}},this.getSelectedRows=function(e){void 0===e&&(e=[]);var n=t.getColNum();return t.getSelectedSection(e,(function(e){return{key:e.i,value:e.j}}),n)},this.getSelectedCols=function(e){void 0===e&&(e=[]);var n=t.getRowNum();return t.getSelectedSection(e,(function(e){var t=e.i;return{key:e.j,value:t}}),n)},this.getSelectedSection=function(e,t,n){var o={};null==e||e.forEach((function(e){var n=t(e),i=n.key,r=n.value;o[i]?o[i].push(r):o[i]=[r]}));var i=[];return Object.entries(o).forEach((function(e){var t=e[0];return e[1].length===n&&i.push(t)})),i[0]&&i},this.getCellBorderColor=function(e,n,o){var i,r,l,s,a,c,u,d,f={},g=w(e);return g.find((function(e){var t=e.i,i=e.j;return t===n&&i===o-1}))||(f.borderLeft=null===(i=t.getCell(n,o))||void 0===i||null===(r=i.border)||void 0===r?void 0:r.left),g.find((function(e){var t=e.i,i=e.j;return t===n&&i===o+1}))||(f.borderRight=null===(l=t.getCell(n,o))||void 0===l||null===(s=l.border)||void 0===s?void 0:s.right),g.find((function(e){var t=e.i,i=e.j;return t===n-1&&i===o}))||(f.borderTop=null===(a=t.getCell(n,o))||void 0===a||null===(c=a.border)||void 0===c?void 0:c.top),g.find((function(e){var t=e.i,i=e.j;return t===n+1&&i===o}))||(f.borderBottom=null===(u=t.getCell(n,o))||void 0===u||null===(d=u.border)||void 0===d?void 0:d.bottom),Object.values(f)},this.getConsistentCellBorderColor=function(e,n,o,i){var r=t.getCellBorderColor(e,n,o);return!!r.every((function(e){return e===r[0]}))&&(r[0]?t.getColorFromBorderStyle(r[0]):i)},this.isCellBorderActive=function(e,n,o){return t.getCellBorderColor(e,n,o).some((function(e){return void 0!==e}))},this.getColorFromBorderStyle=function(e){return e.includes("transparent")?"transparent":"#"+e.split("#")[1]},this.getCellBorders=function(e,n,o,i){var r=w(e),l=t.getCellMergeData(n,o)||{},s=l.rowSpan,a=void 0===s?1:s,c=l.colSpan,u=void 0===c?1:c,d=i||"var(--ricos-settings-action-color, var(--ricos-action-color, #0261ff))",f={};return r.find((function(e){var t=e.i,i=e.j;return t===n&&i===o-1}))||(f.left=d),r.find((function(e){var t=e.i,i=e.j;return t===n&&i===o+u}))||(f.right=d),r.find((function(e){var t=e.i,i=e.j;return t===n-1&&i===o}))||(f.top=d),r.find((function(e){var t=e.i,i=e.j;return t===n+a&&i===o}))||(f.bottom=d),f},this.getRowHeader=function(){return t.componentData.config.rowHeader},this.getColHeader=function(){return t.componentData.config.colHeader},this.isCellContainedInHeader=function(e,n){return 0===e&&t.getRowHeader()||0===n&&t.getColHeader()},this.updateComponentData(e)},y=function(e){var t=e.borders;return[t.top&&l().createElement("div",{key:"top",style:{background:t.top},className:"_3_Ps8"}),t.bottom&&l().createElement("div",{key:"bottom",style:{background:t.bottom},className:"_1_558"}),t.right&&l().createElement("div",{key:"right",style:{background:t.right},className:"vjkf7"}),t.left&&l().createElement("div",{key:"left",style:{background:t.left},className:"hp7Fj"})]},E=["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"],S=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).selectCellContent=function(){var e=t.props,n=e.row,o=e.col,i=e.selectCellContent;!e.isMobile&&(null==i||i(n,o))},t.isSingleCellSelected=function(e){var t,n,o,i,r,l,s,a;return void 0===e&&(e={}),(null===(t=e)||void 0===t||null===(n=t.start)||void 0===n?void 0:n.i)===(null===(o=e)||void 0===o||null===(i=o.end)||void 0===i?void 0:i.i)&&(null===(r=e)||void 0===r||null===(l=r.start)||void 0===l?void 0:l.j)===(null===(s=e)||void 0===s||null===(a=s.end)||void 0===a?void 0:a.j)},t.isEditing=function(e,n){return e&&t.isSingleCellSelected(n)},t.setEditorRef=function(e){var n=t.props,o=n.setEditorRef,i=n.row,r=n.col;t.editorRef=e,o&&o(e,i,r)},t.setTdRef=function(e){return t.tdRef=e},t.getToolbarPosition=function(){if(t.tdRef){var e=t.tdRef.offsetLeft;return{x:0,containerWidth:t.props.tableWidth,offsetLeftInsideContainer:e}}},t.onKeydown=function(e){var n=t.props,o=n.editing,i=n.onKeyDown,r=n.isMobile;if(o&&!r){("Backspace"===e.key||"a"===e.key&&(e.ctrlKey||e.metaKey))&&e.stopPropagation();var l="Enter"===e.key&&(e.altKey||e.shiftKey||e.metaKey);E.includes(e.key)||l||i(e)}else!o&&E.includes(e.key)&&(i(e),e.stopPropagation(),e.preventDefault())},t.fixReactModalButtons=function(e){Object.values(e).forEach((function(e){"DROPDOWN"===e.type&&(e.type="modal")}))},t.getEditorWrapperStyle=function(e,n){var i=!t.props.isMobile&&n,r=i?(0,o.Z)({minHeight:t.tdHeight},e):{},l=e.verticalAlign;return i&&l&&(r.display="flex","middle"===l?r.alignItems="center":"bottom"===l&&(r.alignItems="flex-end")),r},t.getCellBorders=function(e,n){var i=t.props,r=i.table,l=i.selectedCells,s=i.row,a=i.col,c=i.disableSelectedStyle,u=i.isMobile,d=i.selected,f=r.getCellBorders(l,s,a),g={};return c&&d?Object.entries(e).forEach((function(e){var t=e[0],n=e[1];!f[t]&&(g[t]=n)})):g=e,!u&&n?(0,o.Z)({},g,f):g},t.hideBlocks=function(){var e=t.props,n=e.row,o=e.col,i=e.table,r=e.setEditorRef,l=i.getCellContent(n,o),s=r?l.getCurrentContent().getBlocksAsArray():l.blocks;if(s.length>=3){var a,c;if(r){var u=l.getCurrentContent();a=u.getLastBlock().getText(),c=u.getFirstBlock().getText()}else a=s[s.length-1].text,c=s[0].text;return{hideFirstBlock:""===c||"\u200b"===c,hideLastBlock:""===a||"\u200b"===a}}return{}},t.onCellClick=function(){return t.props.isMobile&&t.props.onDoubleClick()},t}(0,i.Z)(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){var t,n,o=this.isEditing(e.editing,e.selectedCells),i=this.isEditing(this.props.editing,this.props.selectedCells),r=!o&&i,l=o&&!i,s=this.props,a=s.selectedCells,c=s.isMobile,u=s.setEditingActive,d=s.toolbarRef;r?(this.editorRef.focus(),u(!0),this.selectCellContent()):l&&(u(!1),null==d||d.setEditingTextFormattingToolbarProps(!1),this.selectCellContent()),!this.props.selected||e.selected||i||c||(this.selectCellContent(),a&&1===w(a).length&&(null===(t=this.editorRef)||void 0===t||t.focus()),this.tdHeight=(null===(n=this.tdRef)||void 0===n?void 0:n.offsetHeight)-1)},n.render=function(){var e,t=this.props,n=t.row,i=t.col,r=t.style,s=t.onMouseDown,a=t.onMouseOver,u=t.onDoubleClick,g=t.editing,p=t.onContextMenu,v=t.children,C=t.selected,m=t.selectedCells,R=t.table,b=t.isMobile,E=t.disableSelectedStyle,S=t.setEditorRef,D=t.selectCellContent,z=R.getCell(n,i)||{},A=z.style,x=void 0===A?{}:A,k=z.merge,W=void 0===k?{}:k,j=z.border,P=void 0===j?{}:j,L=W.colSpan,T=void 0===L?1:L,_=W.rowSpan,B=void 0===_?1:_,N=W.parentCellKey,O=this.isEditing(g,m),Z=C&&!E&&!O,H=m&&w(m),K=this.getCellBorders(P,Z),I=R.isCellContainedInHeader(n,i),U=I?"th":"td",F=this.editorRef&&O&&R.getCellContent(n,i),V=F&&F.getSelection(),Q=!!F&&F.getCurrentContent().getBlockMap().filter((function(e){return"unstyled"===e.getType()})).some((function(e){return""!==e.getText()&&"\u200b"!==e.getText()}));if(this.editorRef&&O&&(!V.isCollapsed()&&V.getHasFocus()||document&&document.querySelector('[data-id="rich-content-editor-modal"]'))&&Q){var q,G,J,X=(0,d.cloneDeep)(null===(q=this.editorRef)||void 0===q||null===(G=q.getToolbarProps)||void 0===G?void 0:G.call(q,f.Bv.FORMATTING));X&&this.fixReactModalButtons(X),null===(J=this.props.toolbarRef)||void 0===J||J.setEditingTextFormattingToolbarProps(X)}else if(O){var Y;null===(Y=this.props.toolbarRef)||void 0===Y||Y.setEditingTextFormattingToolbarProps(!1)}var $=this.getEditorWrapperStyle(x,O),ee=this.hideBlocks(),te=ee.hideFirstBlock,ne=ee.hideLastBlock;return N?null:l().createElement(U,{"data-hook":"table-plugin-cell",ref:this.setTdRef,className:c()("_3c5-u",I&&"Smmwb",Z&&!O&&h),onMouseDown:s,onMouseOver:a,onDoubleClick:u,onClick:this.onCellClick,onContextMenu:p,colSpan:T,rowSpan:B,style:(0,o.Z)({},r,x),onKeyDown:this.onKeydown},l().createElement("div",{className:c()(S?"_11t6q":"_3iIc8",!O&&te&&"_1AP_7",!O&&ne&&"KlKsi",!b&&O&&"_1sB_i",!O&&"_3NvqW"),style:$},l().createElement(M,{editing:b?C:O,selected:C,contentState:R.getCellContent(n,i),setEditorRef:this.setEditorRef,isEditor:D},v)),l().createElement(y,{borders:K}),l().createElement("div",{style:{height:Z?null===(e=this.tdRef)||void 0===e?void 0:e.offsetHeight:0},className:c()(Z&&h,1===(null==H?void 0:H.length)&&"Qsa8e")}))},t}(r.Component),M=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))||this).setEditorRef=function(e){t.editor=e,t.props.setEditorRef(e)},t}(0,i.Z)(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e){var t=this.props,n=t.editing,o=t.selected,i=t.contentState!==e.contentState;return n||e.editing||o||i},n.render=function(){var e=this.props,t=e.children,n=e.editing,o=e.selected;return l().createElement("div",{className:c()("_1Rg3q",n?"_2Q_MS":"_30RxK")},l().cloneElement(t,{ref:this.setEditorRef,editing:n,readOnly:!n&&!o}))},t}(r.Component),D=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))||this).setRef=function(e){var n,o;return null===(n=(o=t.props).setRowRef)||void 0===n?void 0:n.call(o,e,t.props.row)},t}(0,i.Z)(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e){var t;return(null===(t=e.rowsToUpdate)||void 0===t?void 0:t.includes(e.row))||!1},n.render=function(){var e=this.props,t=e.row,n=e.children,o=(0,e.getRowHeight)(t);return l().createElement("tr",{style:{height:o},ref:this.setRef},n)},t}(r.Component),z=function(e){function t(t){var n;return(n=e.call(this,t)||this).removeShiftKey=function(){return n.shiftKey=!1},n.setShiftKey=function(e){return"Shift"===e.key&&(n.shiftKey=!0)},n.onDragMouseDown=function(e,t){n.curDrag=e.target,n.startPoint=n.getEventDiff(e),n.isActive(t)?n.clickedOnActiveDrag=!0:(n.drags={},n.shiftKey&&n.props.activeDrag?(n.drags.start=Math.min(t,n.props.activeDrag[0]),n.drags.end=Math.max(t,n.props.activeDrag[n.props.activeDrag.length-1])):(n.drags.start=t,n.drags.end=t),n.props.onDragClick(n.drags))},n.getEventDiff=function(e){return n.props.horizontal?e.pageX:e.pageY},n.onMouseMove=function(e){if(n.curDrag&&(n.isDragging||Math.abs(n.startPoint-n.getEventDiff(e))>25)){var t=n.props.activeDrag;n.isDragging=!0,n.drags={start:Math.min.apply(Math,t),end:Math.max.apply(Math,t)},n.props.onDrag(e,n.drags)}},n.onMouseUp=function(e){n.clickedOnActiveDrag&&(n.props.onDragClick(),n.clickedOnActiveDrag=!1),n.curDrag&&(n.curDrag=void 0,n.isDragging&&(n.isDragging=void 0,n.props.onDragEnd(e,n.drags),n.drags=null))},n.isActive=function(e){var t;return null===(t=n.props.activeDrag)||void 0===t?void 0:t.includes(e)},n.getSelectedPreviewStyle=function(){var e=n.props,t=e.size,o=e.horizontal,i=e.index,r=e.selectAll,l={visibility:n.isActive(i)&&(r?o:!r)&&"visible"};return o?(l.height=t?t-20:0,n.isActive(i+1)&&(l.borderRight="none"),n.isActive(i-1)&&(l.borderLeft="none")):(l.width=t,n.isActive(i+1)&&(l.borderBottom="none"),n.isActive(i-1)&&(l.borderTop="none")),l},n.state={},n}(0,i.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp),document.addEventListener("keydown",this.setShiftKey),document.addEventListener("keyup",this.removeShiftKey)},n.componentWillUnmount=function(){document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("keydown",this.setShiftKey),document.removeEventListener("keyup",this.removeShiftKey)},n.render=function(){var e=this,t=this.props,n=t.horizontal,o=t.selectAll,i=t.index,r=this.isActive(i),s=this.getSelectedPreviewStyle();return l().createElement("div",{className:"_4OA5y"},l().createElement("div",{className:c()("ZDIH5",r&&"_13BUy",o&&"Sx3Cc",this.isDragging&&"_1lPd9"),onMouseDown:function(t){return e.onDragMouseDown(t,i)},"data-hook":(n?"col":"row")+"Drag-"+i},l().createElement(g,{className:c()(n&&"gP4sA"),style:{visibility:!o&&r&&"visible",cursor:this.isDragging?"grabbing":"grab"}})),l().createElement("div",{className:c()("-unpA",!n&&"_12B1r"),style:s}))},t}(l().Component),A=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))||this).getPosition=function(e){return t.props.horizontal?e.pageX:e.pageY},t.getSize=function(){return t.props.horizontal?t.curTarget.offsetWidth:t.curTarget.offsetHeight},t.setNewSize=function(e,n){return t.props.horizontal?e.style.width=n:e.style.height=n},t.setMinSize=function(e,t){return e.style.minWidth=t},t.onMouseDown=function(e){var n=t.props,o=n.horizontal,i=n.size,r=n.onResizeStart,l=n.index,s=n.itemsRefs;o?t.ref.style.height=i+"px":t.ref.style.width=i+"px",e.stopPropagation(),t.curTarget=s[l],t.siblingCell=o&&s[l+1],t.position=t.getPosition(e);var a=v(t.curTarget);t.curSize=o?C(t.curTarget):t.getSize()-a,t.siblingSize=t.siblingCell&&C(t.siblingCell),r()},t.onMouseMove=function(e){if(t.curTarget){var n=t.getPosition(e)-t.position,o=t.curSize+n,i=t.props,r=i.minSize,l=i.setContainerSize,s=i.horizontal,a=i.overflowWidth;if(o>=r&&(s&&o<u.C&&t.setMinSize(t.curTarget,o+"px"),t.setNewSize(t.curTarget,o+"px"),l&&l(o+"px",t.props.index),n>0||n<=0&&a<=0)){var c=t.siblingSize-n;c&&c>=u.C&&t.setNewSize(t.siblingCell,c+"px")}}},t.onMouseUp=function(){var e=t.props,n=e.horizontal,o=e.onResize,i=e.index,r=e.itemsRefs,l=e.minSize;if(n?t.ref.style.height="20px":t.ref.style.width="20px",n&&t.curTarget){var s=C(t.curTarget),a=t.siblingCell&&C(t.siblingCell);s<l&&(t.curTarget.style.minWidth=s),a&&a<l&&(t.siblingCell.style.minWidth=a)}t.curTarget&&t.position&&t.curSize&&(n?o(r):o(i,t.getSize()),t.curTarget=void 0,t.position=void 0,t.curSize=void 0)},t.getResizerStyle=function(){var e=t.props,n=e.horizontal,o=e.highlightResizer,i=e.index,r=e.size,l={};return o===i&&(l=n?{height:r,borderRight:"1px solid #0000ff"}:{width:r,borderBottom:"1px solid #0000ff",zIndex:3}),l},t.setRef=function(e){return t.ref=e},t}(0,i.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp)},n.componentWillUnmount=function(){document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp)},n.render=function(){var e=this.getResizerStyle();return l().createElement("div",{className:c()("_1cjMQ",this.props.highlightOnly&&"_2S_Jx",this.props.horizontal?"_39fAd":"_1QWyO"),style:e,onMouseDown:this.onMouseDown,ref:this.setRef})},t}(r.PureComponent),x=function(e){function t(){return e.apply(this,arguments)||this}return(0,i.Z)(t,e),t.prototype.render=function(){var e=this.props,t=e.colNum,n=e.colDragProps,i=e.activeDrag,r=e.selectAll,s=e.size,a=e.onResize,d=e.highlightResizer,f=e.onResizeStart,g=e.columnsRefs,h=e.tableOverflowWidth;return l().createElement("tr",null,[].concat(Array(t).fill(0)).map((function(e,t){return l().createElement("td",{key:"column"+t,className:c()("_2VbQq",r&&"_24hfp",(null==i?void 0:i.includes(t))&&"_2ScdR")},l().createElement(z,(0,o.Z)({},n,{horizontal:!0,index:t,activeDrag:i,selectAll:r,size:s})),a&&l().createElement(A,{onResize:a,highlightResizer:d,horizontal:!0,minSize:u.a,index:t,size:s,onResizeStart:f,itemsRefs:g,overflowWidth:h}))})))},t}(r.PureComponent),k=function(e){function t(t){var n;return(n=e.call(this,t)||this).onResizeWindow=(0,d.debounce)((function(){n.setState({windowWidth:window.innerWidth});var e=n.props,t=e.table,o=e.tableRef;o.offsetWidth&&n.columns.forEach((function(e,n){var i=t.getCellWidthAsPixel(o.offsetWidth-1,n,t.getColsMinWidth());e&&(e.style.width=i+"px")}))}),60),n.columns=[t.table.getColNum()],n}(0,i.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){window.addEventListener("resize",this.onResizeWindow)},n.componentWillUnmount=function(){window.removeEventListener("resize",this.onResizeWindow)},n.render=function(){var e,t=this,n=this.props,o=n.children,i=n.tableRef,r=n.table,s=n.colDragProps,a=n.onResize,c=n.onResizeStart,d=n.highlightResizer,f=n.selected,g=n.selectAll,h=n.tableHeight,p=n.isEditMode,v=n.isEditingActive,C=n.tableOverflowWidth,m=f&&w(f),R=r.getColsMinWidth();return this.columns=this.columns.filter((function(e){return e.parentElement})),l().createElement("table",{className:"_3S0Qj"},l().createElement("colgroup",null,r.getColsWidth().map((function(e,n){return l().createElement("col",{key:n,ref:function(e){return e&&(t.columns[n]=e)},style:{width:null!=i&&i.offsetWidth?r.getCellWidthAsPixel(i.offsetWidth-1,n,R):e,minWidth:(null==R?void 0:R[n])||u.C}})}))),l().createElement("thead",null,p&&l().createElement(x,{colDragProps:s,colNum:r.getColNum(),onResize:a,onResizeStart:c,highlightResizer:d,activeDrag:v?[]:null===(e=r.getSelectedCols(m))||void 0===e?void 0:e.map((function(e){return parseInt(e)})),selectAll:g,size:h,tableWidth:null==i?void 0:i.offsetWidth,columnsRefs:this.columns,tableOverflowWidth:C})),l().createElement("tbody",null,o))},t}(r.PureComponent),W=function(e){function t(t){var n;return(n=e.call(this,t)||this).cellCreator=function(e,t){return{key:e+"-"+t,component:n.renderCell(e,t),forceComponent:!0,disableUpdatedFlag:!0}},n.renderCell=function(e,t){var o=n.props,i=o.renderInnerRCE,r=o.innerRCV;return i?i(e,t):r({contentState:n.table.getCellContent(e,t),renderedIn:u.T})},n.createRow=function(e,t){return[].concat(Array(t).fill(0)).map((function(t,o){return n.cellCreator(e,o)}))},n.sheetRenderer=function(e){return l().createElement(k,(0,o.Z)({},e,{table:n.table,tableRef:n.tableViewerRef,colDragProps:n.props.colDragProps,onResize:n.props.onResize,onResizeStart:n.props.onResizeStart,highlightResizer:n.props.highlightResizer,selectAll:n.props.selectAll,tableHeight:n.props.tableHeight,selected:n.props.selected,isEditMode:n.props.isEditMode,isEditingActive:n.props.isEditingActive,tableOverflowWidth:n.props.tableOverflowWidth}))},n.rowRenderer=function(e){return l().createElement(D,(0,o.Z)({},e,{getRowHeight:n.table.getRowHeight,setRowRef:n.props.setRowRef,rowsToUpdate:n.props.rowsToUpdate}))},n.setCellRef=function(e){return n.cellRef=e},n.setTableViewerRef=function(e){n.tableViewerRef=e,n.state.isTableRefSet||n.setState({isTableRefSet:!0})},n.cellRenderer=function(e){var t=n.props,i=t.setEditorRef,r=t.toolbarRef,s=t.setEditingActive,a=t.tableWidth,c=t.isMobile,u=t.selected,d=void 0===u?{}:u,f=t.disableSelectedStyle,g=t.t,h=t.selectCellContent;return l().createElement(S,(0,o.Z)({},e,{ref:n.setCellRef,table:n.table,setEditorRef:i,toolbarRef:r,selectedCells:d,setEditingActive:s,tableWidth:a,isMobile:c,disableSelectedStyle:f,t:g,selectCellContent:h}))},n.valueRenderer=function(e){return e.component},n.table=n.props.table||new b(t.componentData),n.state={},n}(0,i.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.tableViewerRef.children[0].classList.add("has-custom-focus")},n.render=function(){var e=this,t=this.props,n=t.onSelect,o=t.selected,i=t.isEditMode,r=t.setCellContent,a=t.onClear,u=t.onPaste,d=this.table.getRowNum(),f=this.table.getColNum(),g=[].concat(Array(d).fill(0)).map((function(t,n){return e.createRow(n,f)}));return l().createElement("div",{className:c()(i?"_33jXB":"ZZwd4"),ref:this.setTableViewerRef},l().createElement(s.ZP,{data:g,valueRenderer:this.valueRenderer,onSelect:n,selected:o||{},cellRenderer:this.cellRenderer,rowRenderer:this.rowRenderer,sheetRenderer:this.sheetRenderer,onClear:a,getCellContent:this.table.getCellContent,setCellContent:r,onPaste:u}))},t}(r.Component)}}]);
//# sourceMappingURL=table-viewer.chunk.min.js.map